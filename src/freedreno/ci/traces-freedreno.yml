traces-db:
  download-url: "http://10.42.0.1:8888/cache/?uri=https://minio-packet.freedesktop.org/mesa-tracie-public/"

traces:
  - path: 0ad/0ad.trace
    expectations:
      - device: freedreno-a630
        checksum: ea2b03e0768e8400c0badd46e4d26087
  - path: behdad-glyphy/glyphy.trace
    expectations:
      - device: freedreno-a630
        checksum: d25edb433abfcde517b626b3071906ff
  - path: glmark2/buffer-columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=map.rdc
    expectations:
      - device: freedreno-a630
        checksum: e0fb7ba5ade1430cd4ca6fc154cc7f10
  - path: glmark2/buffer-columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=subdata.rdc
    expectations:
      - device: freedreno-a630
        checksum: 2093474baae398a13fb34964f7030d76
  - path: glmark2/buffer-columns=200:interleave=true:update-dispersion=0.9:update-fraction=0.5:update-method=map.rdc
    expectations:
      - device: freedreno-a630
        checksum: 46c816a88d187e943e36386839e92256
  - path: glmark2/bump-bump-render=height.rdc
    expectations:
      - device: freedreno-a630
        checksum: 9e7b9cb09460206748b24a1476a7768e
  - path: glmark2/bump-bump-render=high-poly.rdc
    expectations:
      - device: freedreno-a630
        checksum: ef671e7a585443e395d566873a8174c0
  - path: glmark2/bump-bump-render=normals.rdc
    expectations:
      - device: freedreno-a630
        checksum: 8f81c0d4aa531277784872935523efd8
  - path: glmark2/conditionals-fragment-steps=0:vertex-steps=0.rdc
    expectations:
      # Incorrect rendering, a bunch of the area is uniform gray when it should
      # continue the pattern
      - device: freedreno-a630
        checksum: 4d654718f516adb891e6adef04924896
  - path: glmark2/conditionals-fragment-steps=5:vertex-steps=0.rdc
    expectations:
      # Incorrect rendering, a bunch of the area is uniform gray when it should
      # continue the pattern
      - device: freedreno-a630
        checksum: 7937cc1cb07b980da11a7c892a97bcdc
  - path: glmark2/conditionals-fragment-steps=0:vertex-steps=5.rdc
    expectations:
      # Incorrect rendering, a bunch of the area is uniform gray when it should
      # continue the pattern
      - device: freedreno-a630
        checksum: 2977a3bb963096a4ed421dff7001d498
  - path: glmark2/desktop-blur-radius=5:effect=blur:passes=1:separable=true:windows=4.rdc
    expectations:
      - device: freedreno-a630
        checksum: 353c40f356495df95c3e5a61c94a726a
  - path: glmark2/desktop-effect=shadow:windows=4.rdc
    expectations:
      - device: freedreno-a630
        checksum: 5ff3fe9ab8ad3a53ce4b8bfe7a61900a
  - path: glmark2/effect2d-kernel=0,1,0;1,-4,1;0,1,0.rdc
    expectations:
      - device: freedreno-a630
        checksum: 14df4ace23bfe591501ed322afcd9dc0
  - path: glmark2/effect2d-kernel=1,1,1,1,1;1,1,1,1,1;1,1,1,1,1;.rdc
    expectations:
      - device: freedreno-a630
        checksum: 6383e75f0a168d1eeb7516e5f727ddfc
  - path: glmark2/function-fragment-complexity=low:fragment-steps=5.rdc
    expectations:
      # Incorrect rendering, a bunch of the area is uniform gray when it should
      # continue the pattern
      - device: freedreno-a630
        checksum: d479556facd21af43d526b3cc95bed8b
  - path: glmark2/function-fragment-complexity=medium:fragment-steps=5.rdc
    expectations:
      # Incorrect rendering, a bunch of the area is uniform gray when it should
      # continue the pattern
      - device: freedreno-a630
        checksum: 17895715bdb496faa73bba89b06347f6
  - path: glmark2/glmark2-build-use-vbo-false.rdc
    expectations:
      - device: freedreno-a630
        checksum: 1612f9c774de1962ee9f4fd3ba73cce3
  - path: glmark2/glmark2-build-use-vbo-true.rdc
    expectations:
      - device: freedreno-a630
        checksum: d093fdee65a24595d5a54297d03001d9
  - path: glmark2/ideas-speed=duration.rdc
    expectations:
      - device: freedreno-a630
        checksum: 5af85c3501a34a07275548fd390a31a1
  - path: glmark2/jellyfish.rdc
    expectations:
      - device: freedreno-a630
        checksum: e57fbf07975de65176eb10713b7e4da6
  - path: glmark2/loop-fragment-loop=false:fragment-steps=5:vertex-steps=5.rdc
    expectations:
      # Incorrect rendering, a bunch of the area is uniform gray when it should
      # continue the pattern
      - device: freedreno-a630
        checksum: 52397a2278680b28ccfac4d8ba7340dd
  - path: glmark2/loop-fragment-steps=5:fragment-uniform=false:vertex-steps=5.rdc
    expectations:
      # Incorrect rendering, a bunch of the area is uniform gray when it should
      # continue the pattern
      - device: freedreno-a630
        checksum: 45ce9b6056ec0e0e4276e7738eaa7fa1
  - path: glmark2/loop-fragment-steps=5:fragment-uniform=true:vertex-steps=5.rdc
    expectations:
      # Incorrect rendering, a bunch of the area is uniform gray when it should
      # continue the pattern
      - device: freedreno-a630
        checksum: ec5ea3eab5b54524748a0c883cc929d6
  - path: glmark2/pulsar-light=false:quads=5:texture=false.rdc
    expectations:
      - device: freedreno-a630
        checksum: 8c9a18bdfad94d6da823382991f9b843
  - path: glmark2/refract.rdc
    expectations:
      - device: freedreno-a630
        checksum: 4302ab80ec105246cf61ba2d720eee18
  - path: glmark2/shading-shading=blinn-phong-inf.rdc
    expectations:
      - device: freedreno-a630
        checksum: 9afbe4ea0f8eaa92311754c618e946cc
  - path: glmark2/shading-shading=cel.rdc
    expectations:
      - device: freedreno-a630
        checksum: 7afbb21948358b00cf6a1c553b6a7980
  - path: glmark2/shading-shading=gouraud.rdc
    expectations:
      - device: freedreno-a630
        checksum: 49ee0d0703093195b6e692ac907590f6
  - path: glmark2/shading-shading=phong.rdc
    # Some speckling on the main specular highlight that may just be
    # mediump artifacts
    expectations:
      - device: freedreno-a630
        checksum: ca4983b8c4e08de7515630a2ff14276c
  - path: glmark2/shadow.rdc
    expectations:
      - device: freedreno-a630
        checksum: b1b0447da2b706f3eddb82c43edbbe7f
  - path: glmark2/texture-texture-filter=linear.rdc
    expectations:
      - device: freedreno-a630
        checksum: 0aa02a7ea3e4a7ada675fb66c54a41f6
  - path: glmark2/texture-texture-filter=mipmap.rdc
    expectations:
      - device: freedreno-a630
        checksum: 99ad7718220e9cb8e05767e17f4bd690
  - path: glmark2/texture-texture-filter=nearest.rdc
    expectations:
      - device: freedreno-a630
        checksum: b0f6e888784b7018d796aa3e3cd32aa2
  - path: glxgears/glxgears.trace
    expectations:
      - device: freedreno-a630
        checksum: 5599d6e8e43384c59196b9c9b0161268
  - path: gputest/furmark.trace
    expectations:
      - device: freedreno-a630
        checksum: 751e0e784ba2f003cfc456fe8699f1fa
# Note: Requires GL3.3
  - path: gputest/gimark.trace
    expectations:
      - device: freedreno-a630
        checksum: 2cf40180a1315795389d0dfc18aad988
  - path: gputest/pixmark-julia-fp32.trace
    expectations:
      - device: freedreno-a630
        checksum: 4a02628395948c34d95d035a9c9735cb
# Note: Requires GL4 (fp64).
#  - path: gputest/pixmark-julia-fp64.trace
#    expectations:
#      - device: freedreno-a630
#        checksum: 0
# Intermittent GPU hangs on a630 result in test failures for this.
#  - path: gputest/pixmark-piano.trace
#    expectations:
#      # One of the material textures appears brighter on freedreno than
#      # i965 in a way that is probably wrong.
#      - device: freedreno-a630
#        checksum: 1aad6e1ffe23cae71acdb70695a6184b
  - path: gputest/pixmark-volplosion.trace
    expectations:
      # Looks fine, but totally different shape from the rendering on i965.
      - device: freedreno-a630
        checksum: 2d1cf314b5ef2e0a79f5f98eee8de446
  - path: gputest/plot3d.trace
    expectations:
      - device: freedreno-a630
        checksum: 42aba3ab943dae2fe952cae1ff91c354
# Note: Requires GL4 for tess.
  - path: gputest/tessmark.trace
    expectations:
      - device: freedreno-a630
        checksum: 5d04b8d71517238b9bc8a527574e884b
  - path: gputest/triangle.trace
    expectations:
      - device: freedreno-a630
        checksum: 1dc6abfb1cfbc5b16adc6f4abf76eec8
  - path: humus/AmbientAperture.trace
    expectations:
      - device: freedreno-a630
        checksum: 83fd7bce0fc1e1f30bd143b7d30ca890
  - path: humus/CelShading.trace
    expectations:
      - device: freedreno-a630
        checksum: b0ac8fb4b2b2268cfb87944730125886
  - path: humus/DynamicBranching3.trace
    expectations:
      - device: freedreno-a630
        checksum: 238f06550db39c36e5b880d3b3d7440f
  - path: humus/HDR.trace
    expectations:
      - device: freedreno-a630
        checksum: 40387a4e89ef71c472a94413b175ff59
  # Started producing flaky results near that old gap in the upper right once
  # the parallel trace runner landed.
  #- path: humus/Portals.trace
  #  expectations:
  #    # Bad rendering -- some sort of gap in the upper right of the image.
  #    - device: freedreno-a630
  #      checksum: 773787656bdb83df21ff42cf9d98d7d2
  - path: humus/RaytracedShadows.trace
    expectations:
      - device: freedreno-a630
        checksum: 5f1a655e62eab99d53dab88b634afed3
  - path: humus/VolumetricFogging2.trace
    expectations:
      - device: freedreno-a630
        checksum: e5d2b54f49ba1c24279d5ff84e0f002b
# Unstable results
#  - path: itoral-gl-terrain-demo/demo.trace
#    expectations:
#      - device: freedreno-a630
#        checksum: 9571117bf4eab6fe29b12f6c3d42d865
  - path: minetest/minetest.trace
    expectations:
      # Note: Obvious alpha test failure on the tree in the upper left.  Also a
      # big block around the hand that's not present on radeonsi.
      - device: freedreno-a630
        checksum: c856d9588886978a12181e4646a7a78b
  - path: neverball/neverball.trace
    expectations:
      - device: freedreno-a630
        checksum: 57fd57aef14d37043a7b56a16dbf50b6
  - path: pathfinder/canvas_moire.trace
    expectations:
      - device: freedreno-a630
        checksum: 0e32ca8fc815a7250f38a07faeafb21b
  - path: pathfinder/canvas_text.trace
    expectations:
      - device: freedreno-a630
        checksum: 74129b650bd3ca806ff2dd46813ba6e6
  - path: pathfinder/demo.trace
    expectations:
      - device: freedreno-a630
        checksum: f6661ed4de9e0a444c6338ebd0cd3768
#  Throws "Invalid state in _mesa_program_state_string" and
#  GL_INVALID_OPERATION in glBindTexture(target mismatch), fails to produce
#  a .png at all.  Renders fine on radeonsi.
#  - path: pioneer/pioneer.trace
#    expectations:
#      - device: freedreno-a630
#        checksum: a0000000000000000000000000000000
  - path: supertuxkart/supertuxkart-mansion-egl-gles.trace
    expectations:
      - device: freedreno-a630
        checksum: 5f3fff8969813a5fc5d8d95b4d4c5755
# 21 seconds to render.  Renders nearly completely black, logs "warning:
# 0:29(61): warning: `var_Position' used uninitialized".  Replays fine
# on radeonsi.  Skip for now.
#  - path: thedarkmod/thedarkmod.trace
#    expectations:
#      #- device: freedreno-a630
#      #  checksum: a0000000000000000000000000000000
  - path: xonotic/xonotic-keybench-high.trace
    expectations:
      - device: freedreno-a630
        checksum: 0efd30250af93d0b5f03eeabd079e8ee
  - path: valve/counterstrike-v2.trace
    expectations:
      - device: freedreno-a630
        checksum: 5a11d791a5a718d4aa6c84b416b9f2b6
  - path: valve/counterstrike-source-v2.trace
    expectations:
      - device: freedreno-a630
        checksum: 4b707f385256b380c936186db8c251cb
  - path: valve/half-life-2-v2.trace
    expectations:
      - device: freedreno-a630
        checksum: 8f5929c82e7d990e8c3d2bea14688224
  - path: valve/portal-2-v2.trace
    expectations:
      - device: freedreno-a630
        checksum: a3a9e158ccf7fa5ba978e045505a060e
# Throws errors on freedreno
#  - path: supertuxkart/supertuxkart-antediluvian-abyss.rdc
#    expectations:
#      - device: freedreno-a630
#        checksum: 0
#  - path: supertuxkart/supertuxkart-menu.rdc
#    expectations:
#      - device: freedreno-a630
#        checksum: 0
#  - path: supertuxkart/supertuxkart-ravenbridge-mansion.rdc
#    expectations:
#      - device: freedreno-a630
#        checksum: 0
#  - path: godot/Material Testers.x86_64_2020.04.08_13.38_frame799.rdc
#    expectations:
#      - device: freedreno-a630
#        checksum: 0
